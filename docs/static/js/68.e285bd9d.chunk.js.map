{"version":3,"file":"static/js/68.e285bd9d.chunk.js","mappings":"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","sources":["components/inventory-item-form/index.tsx","components/router-drawer.tsx","redux/use-dispatch-update-inventory-item.ts","screens/edit-inventory-item.tsx"],"sourcesContent":["import { DatePicker, Form, Input } from 'antd';\nimport moment from 'moment';\nimport React from 'react';\n\nimport { TCategory, TInventoryItemField } from '../../types';\n\nconst InventoryItemForm: React.FC<{\n  category: TCategory;\n  values: TInventoryItemField[];\n  onChange: (values: TInventoryItemField[]) => void;\n}> = ({ category, values, onChange }) => {\n  return (\n    <Form layout=\"vertical\" colon={false} style={{ minWidth: '280px' }}>\n      {category.fields.map((categoryField) => {\n        const data = values.find((it) => it.categoryFieldId === categoryField.id);\n\n        if (!data) {\n          return null;\n        }\n\n        const onFieldValueChange = (changedValue: string) => {\n          onChange([\n            ...values.filter((it) => it.categoryFieldId !== categoryField.id),\n            { ...data, value: changedValue },\n          ]);\n        };\n\n        return (\n          <React.Fragment key={categoryField.id}>\n            <Form.Item label={categoryField.title}>\n              {categoryField.type === 'ShortText' && (\n                <Input\n                  value={data.value ?? ''}\n                  onChange={(e) => {\n                    onFieldValueChange(e.target.value);\n                  }}\n                  type=\"text\"\n                  placeholder={categoryField.title as string}\n                />\n              )}\n              {categoryField.type === 'LongText' && (\n                <Input.TextArea\n                  value={data.value ?? ''}\n                  onChange={(e) => {\n                    onFieldValueChange(e.target.value);\n                  }}\n                  placeholder={categoryField.title as string}\n                />\n              )}\n              {categoryField.type === 'Number' && (\n                <Input\n                  value={data.value ?? ''}\n                  onChange={(e) => {\n                    onFieldValueChange(e.target.value);\n                  }}\n                  type=\"number\"\n                  placeholder={categoryField.title as string}\n                />\n              )}\n              {categoryField.type === 'Date' && (\n                <DatePicker\n                  format=\"DD MMM 'YY\"\n                  style={{ width: '100%' }}\n                  value={data.value && data.value.length > 0 ? moment(Number(data.value)) : undefined}\n                  allowClear={false}\n                  onChange={(changedDate) => {\n                    onFieldValueChange(changedDate?.valueOf().toString() ?? '');\n                  }}\n                />\n              )}\n            </Form.Item>\n          </React.Fragment>\n        );\n      })}\n    </Form>\n  );\n};\n\nexport default InventoryItemForm;\n","import { DrawerProps } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst RouterDrawer: React.FC<{\n  goBackUrl: string;\n  children: (drawerProps: DrawerProps, onToggle: (visible: boolean) => void) => React.ReactNode;\n}> = ({ goBackUrl, children }) => {\n  const history = useHistory();\n  const [visible, setVisible] = useState(false);\n\n  const drawerProps: DrawerProps = {\n    visible,\n    placement: 'right',\n    closable: false,\n    maskClosable: false,\n    push: false,\n    destroyOnClose: true,\n    width: 'auto',\n    keyboard: false,\n    onClose: () => {\n      setVisible(false);\n    },\n    afterVisibleChange: (visibility) => {\n      if (!visibility) {\n        history.push(goBackUrl);\n      }\n    },\n  };\n\n  const onToggle = (val: boolean) => {\n    setVisible(val);\n  };\n\n  useEffect(() => {\n    setVisible(true);\n  }, []);\n\n  return (\n    <React.Fragment>\n      {children(drawerProps, onToggle)}\n    </React.Fragment>\n  );\n};\n\nexport default RouterDrawer;\n","import { useDispatch } from 'react-redux';\n\nimport { TInventoryItemField } from '../types';\nimport action from './action';\nimport store from './store';\n\nconst useDispatchUpdateInventoryItem = () => {\n  const dispatch = useDispatch();\n\n  return (payload: { inventoryItemId: string, inventoryItemData: TInventoryItemField[] }) => {\n    const state = store.getState();\n\n    return dispatch(action({\n      ...state,\n      inventoryItems: state.inventoryItems.map((it) => it.id === payload.inventoryItemId\n        ? ({\n          ...it,\n          data: payload.inventoryItemData,\n        })\n        : it),\n    }));\n  };\n};\n\nexport default useDispatchUpdateInventoryItem;\n","import { Button, Drawer, Typography } from 'antd';\nimport React, { useState } from 'react';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport { CloseOutlined } from '@ant-design/icons';\n\nimport InventoryItemForm from '../components/inventory-item-form';\nimport RouterDrawer from '../components/router-drawer';\nimport { TState } from '../redux/types';\nimport useDispatchUpdateInventoryItem from '../redux/use-dispatch-update-inventory-item';\nimport { TCategory, TInventoryItem, TInventoryItemField } from '../types';\n\nconst EditInventoryItem: React.FC<{ goBackUrl: string }> = ({ goBackUrl }) => {\n  const { inventoryItemId } = useParams<{ inventoryItemId: string }>();\n  const inventoryItem = useSelector<TState, TInventoryItem | undefined | null>(\n    (state) => state.inventoryItems.find((it) => it.id === inventoryItemId),\n    shallowEqual,\n  );\n  const category = useSelector<TState, TCategory | undefined | null>(\n    (state) => inventoryItem\n      ? state.categories.find((it) => it.id === inventoryItem.categoryId)\n      : undefined,\n    shallowEqual,\n  );\n  const dispatchUpdateInventoryItem = useDispatchUpdateInventoryItem();\n\n  const [formValues, setFormValues] = useState<TInventoryItemField[]>(\n    (category?.fields ?? []).map((categoryField) => ({\n      categoryFieldId: categoryField.id,\n      value: inventoryItem?.data.find((inventoryItemDataField) => inventoryItemDataField.categoryFieldId === categoryField.id)?.value ?? '',\n    }))\n  );\n\n  return (\n    <RouterDrawer goBackUrl={goBackUrl}>\n      {(drawerProps, onToggle) => {\n        const onSubmit = () => {\n          dispatchUpdateInventoryItem({ inventoryItemId, inventoryItemData: formValues });\n          onToggle(false);\n        };\n\n        return (\n          <Drawer\n            {...drawerProps}\n            title={(\n              <div className=\"flex flex-row justify-between items-center\">\n                <Typography.Text strong>\n                  Edit {category?.title}\n                </Typography.Text>\n                <Button\n                  type=\"text\"\n                  icon={<CloseOutlined />}\n                  onClick={() => onToggle(false)}\n                />\n              </div>\n            )}\n            footer={(\n              <div className=\"flex flex-row justify-end\">\n                <Button\n                  type=\"primary\"\n                  onClick={() => {\n                    onSubmit();\n                  }}\n                >\n                  Update\n                </Button>\n              </div>\n            )}\n          >\n            {category\n              ? (\n                <InventoryItemForm\n                  values={formValues}\n                  category={category}\n                  onChange={(changedValues) => {\n                    setFormValues(changedValues);\n                  }}\n                />\n              )\n              : null}\n          </Drawer>\n        );\n      }}\n    </RouterDrawer>\n  );\n};\n\nexport default EditInventoryItem;\n"],"names":["category","values","onChange","layout","colon","style","minWidth","fields","map","categoryField","data","find","it","categoryFieldId","id","onFieldValueChange","changedValue","filter","value","label","title","type","e","target","placeholder","format","width","length","moment","Number","undefined","allowClear","changedDate","valueOf","toString","goBackUrl","children","history","useHistory","useState","visible","setVisible","drawerProps","placement","closable","maskClosable","push","destroyOnClose","keyboard","onClose","afterVisibleChange","visibility","useEffect","val","dispatch","useDispatch","payload","state","store","action","inventoryItems","inventoryItemId","inventoryItemData","useParams","inventoryItem","useSelector","shallowEqual","categories","categoryId","dispatchUpdateInventoryItem","useDispatchUpdateInventoryItem","inventoryItemDataField","formValues","setFormValues","onToggle","className","strong","icon","CloseOutlined","onClick","footer","changedValues"],"sourceRoot":""}